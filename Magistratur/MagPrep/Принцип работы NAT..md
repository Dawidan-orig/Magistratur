NAT представляет собой таблицу переводов адресов локальной сети в общую через порты.

#нейро 
Как работает NAT конкретно:
1. Устройство внутри локальной сети посылает пакет с частным IP-адресом источника и портом.
2. NAT-маршрутизатор, принимая этот пакет от внутреннего устройства, заменяет в заголовке IP-адрес источника на свой внешний публичный IP-адрес и часто меняет номер порта (это называется PAT — трансляция с перегрузкой по портам).
3. Маршрутизатор сохраняет в своей таблице соответствие между внутренним адресом с портом и внешним адресом с новым портом, чтобы затем правильно вернуть ответный трафик.
4. Пакет с изменёнными адресом и портом отправляется в Интернет.
5. Когда ответный пакет приходит снаружи на публичный IP-адрес маршрутизатора, он смотрит в таблицу соответствий, находит, какому внутреннему устройству и порту этот ответ соответствует, и заменяет обратно адрес и порт на внутренние, после чего отправляет пакет в локальную сеть.