> Рассмотрим два независимых процесса, процесс 1 и процесс 2, которые взаимоlействуют через общий буфер в основной памяти. Для простоты мы будем называть процесс 1 производителем (producer), а процесс 2 — потребителем (consumer). Производитель выдает простые числа и помещает их в буфер по одному. Потребитель удаляет их из буфера по одному и печатает.

лучше расписать саму задачу, но кратко.

> Где-то в памяти находятся две переменные, которые могут содержать неотрицательные целые числа. Эти переменные называются семафорами. Операционная система предоставляет два системных вызова, up и down, которые оперируют семафорами. Up прибавляет 1 к семафору, a down отнимает 1 от семафора. Если операция down совершается над семафором, значение которого больше 0, этот семафор уменьшается на 1 и процесс продолжается. Если значение семафора равно 0, то операция down не может завершиться. Тогда данный процесс отключается до тех пор, пока другой процесс не выполнит операцию up над этим семафором

[[Танненбаум_Общая архитектура.pdf#page=474&selection=75,0,115,18|Танненбаум, page 474]]

> добавляются два семафора: available, который изначально равен 100 (это размер буфера), и filled, который изначально равен 0. Производитель начинает работу с шага Р1, а потребитель — с шага С1. Выполнение процедуры down над семафором filled сразу же приостанавливает работу потребителя. Когда производитель находит первое простое число, он вызывает процедуру down с available в качестве параметра, устанавливая available на 99. На шаге Р5 он вызывает процедуру up с параметром filled, устанавливая filled на 1. Это действие освобождает потребителя, который теперь может завершить вызов процедуры down. После этого filled принимает значение 0, и оба процесса продолжают работу.