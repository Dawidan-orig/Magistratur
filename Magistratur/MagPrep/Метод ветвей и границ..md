#нейро 

Метод ветвей и границ — это алгоритмический метод оптимизации, применяемый для решения задач, в том числе задач на графах (например, задачи коммивояжера). Он основан на разбиении множества допустимых решений на подмножества (ветви) и вычислении оценок для отсечения не перспективных направлений (границы) с целью сокращения объема перебора.

Пошагово метод ветвей и границ выглядит так:
1. Инициализация: задается начальный рекорд (лучшее найденное решение) и множество, включающее все возможные решения.
2. Разбиение текущего множества решений на несколько подмножеств (ветвление).
3. Для каждого подмножества вычисляется нижняя граница — оценка минимума целевой функции (например, длины пути).
4. Если нижняя граница подмножества выше текущего рекорда, это подмножество отбрасывается (отсечение).
5. Из оставшихся подмножеств выбирается то, в котором нижняя граница минимальна, и алгоритм рекурсивно применяет к нему те же шаги.
6. Процесс повторяется до тех пор, пока все подмножества не будут либо исследованы, либо отсеяны.
7. В конце остается оптимальное решение с минимальным значением целевой функции.
    

Пример (задача коммивояжера для 4 городов):
- Шаг 0: Берем все города, начальный рекорд – бесконечность.
- Шаг 1: Выбираем первое ребро, например, между городами 1 и 2, и строим два поддерева: с этим ребром и без него.
- Шаг 2: Для каждого поддерева вычисляем нижнюю границу (минимально возможную стоимость маршрута с учетом выбранных и исключенных ребер).
- Шаг 3: Отсекаем поддерево, у которого нижняя граница выше текущего рекорда.
- Шаг 4: Продолжаем ветвление по следующему ребру (например, 2-3) повторяя шаги оценки и отсечения.
- Шаг 5: Когда остаётся только одно подмножество с минимальной границей, строится полный маршрут, который является оптимальным.

#интернет 
Пример скриншотами из видео:
(Сначала берём минимальное, вычитаем его из всего, дальше суммируем. Вычтенные числа суммируем, здесь это будет 158.)
Первая итерация, берём за основу цикла путь 1-2. (Вычёркиваем первую строчку, второй столбец):
- Выписываем в незадействованных строчках минимальное.
- Вычитаем в каждой строке этот минимальный элемент.
- Затем в каждом столбце находим минимальный элемент.
- Строка и столбец удаляются.
Минимумы:
![[Pasted image 20250806163427.png]]
Вычитаются:
![[Pasted image 20250806163432.png]]
Минимумы (Теперь столбцы)
![[Pasted image 20250806163514.png]]

Дальше суммируем выписанное, это будет 35 (строки) + 0(Столбцы)=35

Это корень дерева решения.
Теперь оценки:
(По всем нулям, суммируем на оценку минимальное в строке и в столбце)
![[Pasted image 20250806163651.png]]

![[Pasted image 20250806163750.png]]

Выибраем клетку с максимальной оценкой. Здесь - это E-B.
Редукция матрицы:
![[Pasted image 20250806163922.png]]
При этом B-E закрывается, в обратную сторону идти не будем

Для новой таблицы цикл повторяется, но тут везде всё по нулям будет.
E-B=35 (Маршрут без этой ветви)
Вторая ветвь - это то же самое, но с суммированной оценкой: 35+6=41 (Маршрут с этой ветвью)

Выбираем, естественно, вариант с наименьшим. Но тут с нулями повезло.

Продолжаем B-E, далее будет C-D:
![[Pasted image 20250806164419.png]]
(Результат - 35 : 35+9=44)

Продолжая ветвь с C-D, далее будет :
![[Pasted image 20250806164615.png]]
![[Pasted image 20250806164703.png]]
![[Pasted image 20250806164708.png]]
Итого 35+5+2=42
(Начали с E-B)

Теперь выбираем вновь наименьшую из непроверенных. Это ранее E-B включённая теперь, у неё 41. Там всё по нулям, потому сразу к оценке можно, путь D-B и обратный B-D:
![[Pasted image 20250806164911.png]]
Итого после редукции:
![[Pasted image 20250806164951.png]]

Опять по нулям всё, итого 41, и 6 из оценки (E-B-D) = 47, либо E-B просто без всего будет 41. И он всё ещё минимальный. Продолжаем его.

![[Pasted image 20250806165107.png]]
Два варианта, выбирать можно любой.

![[Pasted image 20250806165122.png]]
Итого:
![[Pasted image 20250806165212.png]]

Всё так же минимальный. Берём A-E:
![[Pasted image 20250806165308.png]]
![[Pasted image 20250806165325.png]]

Без оценки по нулям всё так же 41, с ней - 56.

![[Pasted image 20250806165345.png]]

Дальше чисто нули остались, потому можно взять что угодно, хоть C-D, останется только E-C.
![[Pasted image 20250806165428.png]]

Выписываем отрезки относительно их изначального веса, это отрезки:
D-B (17), A-E (8), B-A(5), C-D(6), E-C(5). Надо лишь упорядочить.
Итого результат: E-C-D-B-A, весом 41.

Мне не очень нравится, что "Звёздочки" обошлись стороной полностью, но это выглядит достаточно закономерным.